import{r as l,j as r,$ as w,a as E}from"./app-YEuHkux5.js";import{A as D,C as z}from"./app-layout-Dh5sl-jU.js";import{E as A}from"./Edit-DJy-qXX3.js";import{P as y}from"./PhotoCamera-Co6ZPKoP.js";import{B as e}from"./Box-DZXJg_qv.js";import{C as a}from"./Card-DmMu79y6.js";import{B as o}from"./Button-CMjaMz42.js";import{A as L}from"./Avatar-JivPr5ws.js";import{T as i}from"./Typography-D8rBbavg.js";import{G as m}from"./Grid-CZ5Gk029.js";import{I as S,a as B}from"./ImageListItem-BA7xy70k.js";import"./button-_5e2JbJM.js";import"./clsx-B-dksMZM.js";import"./avatar-DPKp3hQk.js";import"./createLucideIcon-9JrBpBfL.js";import"./index-D3g71isE.js";import"./index-B2kdsAU2.js";import"./index-m3ZdHyWT.js";import"./settings-d7GkTK56.js";import"./app-logo-icon-BYryv9rn.js";import"./createSvgIcon-Bv7lX4UF.js";import"./DefaultPropsProvider-CEXgxhq8.js";import"./createSimplePaletteValueFilter-J_8iZNoO.js";import"./useId-DF1cwINX.js";import"./ButtonBase-CS4YXIYb.js";import"./useTimeout-g4Ibx1fA.js";import"./TransitionGroupContext-mQf08jKB.js";import"./CircularProgress-Bn3EXqD5.js";import"./useSlot-q3G4gJ7a.js";import"./useThemeProps-B1feN13w.js";import"./getThemeProps-BO29yZBp.js";import"./isMuiElement-C40F-WzM.js";const G=[{title:"Mi Perfil",href:"/tiposinfluencers"}];function cr(){var x,c,p,h,j,f,g,u,b,v,I;const[t,C]=l.useState({user:{},datos:{},tipos:[],photos:[],availabilities:[]}),[P,d]=l.useState(!0);return l.useEffect(()=>{(async()=>{try{const n=await E.get("/api/influencer/profile");C(n.data.data),d(!1)}catch(n){console.error("Error fetching profile data:",n),d(!1)}})()},[]),P?r.jsx("div",{children:"Cargando..."}):r.jsxs(D,{breadcrumbs:G,children:[r.jsx(w,{title:"Mi Perfil"}),r.jsxs(e,{sx:{maxWidth:1200,margin:"0 auto",padding:2},children:[r.jsxs(a,{sx:{position:"relative",mb:4},children:[r.jsxs(e,{sx:{height:250,bgcolor:"grey.300",position:"relative"},children:[((c=(x=t.photos)==null?void 0:x[0])==null?void 0:c.url)&&r.jsx("img",{src:t.photos[0].url,alt:"Portada",style:{width:"100%",height:"100%",objectFit:"cover"}}),r.jsx(o,{startIcon:r.jsx(y,{}),variant:"contained",sx:{position:"absolute",bottom:16,right:16},children:"Cambiar Portada"})]}),r.jsxs(e,{sx:{p:3,display:"flex",alignItems:"flex-end"},children:[r.jsx(L,{sx:{width:150,height:150,border:"4px solid white",marginTop:"-75px"},src:(p=t.user)==null?void 0:p.avatar}),r.jsxs(e,{sx:{ml:3},children:[r.jsx(i,{variant:"h4",children:(h=t.user)==null?void 0:h.name}),r.jsx(i,{color:"textSecondary",children:((j=t.datos)==null?void 0:j.biografia)||"Sin biografía"})]})]})]}),r.jsxs(m,{container:!0,spacing:3,children:[r.jsxs(m,{item:!0,xs:12,md:4,children:[r.jsxs(a,{sx:{p:2},children:[r.jsxs(i,{variant:"h6",sx:{mb:2},children:["Información Personal",r.jsx(o,{startIcon:r.jsx(A,{}),size:"small",sx:{float:"right"},children:"Editar"})]}),r.jsxs(i,{children:[r.jsx("strong",{children:"Email:"})," ",(f=t.user)==null?void 0:f.email]}),r.jsxs(i,{children:[r.jsx("strong",{children:"Teléfono:"})," ",(g=t.datos)==null?void 0:g.telefono]}),r.jsxs(i,{children:[r.jsx("strong",{children:"Ciudad:"})," ",(u=t.datos)==null?void 0:u.ciudad]})]}),r.jsxs(a,{sx:{p:2,mt:2},children:[r.jsx(i,{variant:"h6",sx:{mb:2},children:"Categorías"}),r.jsx(e,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:(b=t.tipos)==null?void 0:b.map(s=>r.jsx(o,{variant:"outlined",size:"small",children:s.nombre},s.id))})]})]}),r.jsxs(m,{item:!0,xs:12,md:8,children:[r.jsxs(a,{sx:{p:2},children:[r.jsxs(i,{variant:"h6",sx:{mb:2},children:["Galería",r.jsx(o,{startIcon:r.jsx(y,{}),size:"small",sx:{float:"right"},children:"Agregar Fotos"})]}),r.jsx(S,{sx:{width:"100%"},cols:3,rowHeight:200,children:(v=t.photos)==null?void 0:v.map(s=>r.jsx(B,{children:r.jsx("img",{src:s.url,alt:s.nombre,loading:"lazy",style:{height:"200px",objectFit:"cover"}})},s.id))})]}),r.jsxs(a,{sx:{p:2,mt:2},children:[r.jsxs(i,{variant:"h6",sx:{mb:2},children:["Disponibilidad",r.jsx(o,{startIcon:r.jsx(z,{}),size:"small",sx:{float:"right"},children:"Gestionar"})]}),(I=t.availabilities)==null?void 0:I.map(s=>r.jsx(e,{sx:{mb:1},children:r.jsxs(i,{children:[new Date(s.date).toLocaleDateString()," -",s.time_start," a ",s.time_end]})},s.id))]})]})]})]})]})}export{cr as default};
