import{j as e,$ as p,m as h}from"./app-DWYhLQL6.js";import{A as b}from"./app-layout-p7K4X7eV.js";import"./button-wMTuvAkw.js";import"./clsx-B-dksMZM.js";import"./avatar-C0bnmZQz.js";import"./createLucideIcon-DISkT-zV.js";import"./index-vDywYphy.js";import"./index-CvZMSx04.js";import"./index-C-qtZoBa.js";import"./settings-B1FLQ7wV.js";import"./app-logo-icon-HoYzQaBs.js";import"./createSvgIcon-C-V1FIKo.js";import"./DefaultPropsProvider-CHy6HlRv.js";function F({empresa:a,tareas:o=[],mensaje:c}){const l=new Date,n=l.toLocaleString("es-ES",{month:"long"}),x=l.getFullYear(),t=(o??[]).reduce((r,s)=>{const d=s.semana??"0";return r[d]||(r[d]=[]),r[d].push(s),r},{}),i=Object.keys(t).filter(Boolean).map(r=>Number(r)).sort((r,s)=>r-s).map(r=>r.toString()),m=()=>{confirm("¿Estás seguro de generar las tareas por defecto para esta empresa?")&&h.post(route("tareas.generar",a.id))};return e.jsxs(b,{children:[e.jsx(p,{title:"Tareas de Seguimiento"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 border-b pb-4",children:[e.jsxs("h1",{className:"mb-2 text-2xl font-bold",children:["Empresa: ",a.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Duración del contrato:"})," ",a.contract_duration]}),a.category&&e.jsxs("p",{children:[e.jsx("strong",{children:"Categoría:"})," ",a.category.name]})]}),c&&e.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-800 rounded",children:c}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Mostrando tareas de: ",n.charAt(0).toUpperCase()+n.slice(1)," ",x]})}),o.length===0&&e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Generar datos de tareas"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Tareas de Seguimiento"}),i.length===0?e.jsx("p",{className:"text-center py-4",children:"No hay tareas registradas."}):i.map(r=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"mb-2 text-lg font-bold text-blue-700",children:["Semana ",r]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border border-gray-300 bg-white",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-2",children:"Título"}),e.jsx("th",{className:"border px-4 py-2",children:"Fecha Producción"}),e.jsx("th",{className:"border px-4 py-2",children:"Estado Producción"}),e.jsx("th",{className:"border px-4 py-2",children:"Fecha Edición"}),e.jsx("th",{className:"border px-4 py-2",children:"Estado Edición"}),e.jsx("th",{className:"border px-4 py-2",children:"Fecha Entrega"}),e.jsx("th",{className:"border px-4 py-2",children:"Estado Entrega"}),e.jsx("th",{className:"border px-4 py-2",children:"Estrategia"}),e.jsx("th",{className:"border px-4 py-2",children:"Comentario"}),e.jsx("th",{className:"border px-4 py-2",children:"Guión"})]})}),e.jsx("tbody",{children:Array.isArray(t[r])&&t[r].map(s=>e.jsxs("tr",{className:"text-sm hover:bg-gray-50",children:[e.jsx("td",{className:"border px-4 py-2",children:s.titulo}),e.jsx("td",{className:"border px-4 py-2",children:s.fecha_produccion??"—"}),e.jsx("td",{className:"border px-4 py-2",children:s.estado_produccion}),e.jsx("td",{className:"border px-4 py-2",children:s.fecha_edicion??"—"}),e.jsx("td",{className:"border px-4 py-2",children:s.estado_edicion}),e.jsx("td",{className:"border px-4 py-2",children:s.fecha_entrega??"—"}),e.jsx("td",{className:"border px-4 py-2",children:s.estado_entrega}),e.jsx("td",{className:"border px-4 py-2",children:s.estrategia}),e.jsx("td",{className:"border px-4 py-2",children:s.comentario}),e.jsx("td",{className:"border px-4 py-2",children:s.guion})]},s.id))})]})})]},r))]})]})]})}export{F as default};
