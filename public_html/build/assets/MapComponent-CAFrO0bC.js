import{r as p,j as r}from"./app-CyHY4qXq.js";import{M as m,T as u,a as x,l as f}from"./leaflet-Dc9XhXtg.js";import{P as g}from"./Popup-CgbBwjwa.js";import"./index-CQLPyUva.js";const j=f.icon({iconUrl:"/Gflores/ubicacion.png",iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]}),M=({nombre:l,direccion:n})=>{const[d,i]=p.useState(""),o=n?(s=>{try{const[t,e]=s.split(",").map(a=>{const c=parseFloat(a.trim());if(isNaN(c))throw new Error("Invalid coordinate");return c});if(t<-90||t>90||e<-180||e>180)throw new Error("Out of range");return[t,e]}catch(t){return console.warn("Invalid coordinates, using default:",t),[-16.491381,-68.144709]}})(n):[-16.491381,-68.144709],h=async(s,t)=>{try{const a=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${s}&lon=${t}&format=json`)).json();i(a.display_name||"Dirección no encontrada")}catch{i("Dirección no encontrada")}};return p.useEffect(()=>{o&&h(o[0],o[1])},[o]),r.jsxs(m,{center:o,zoom:15,style:{width:"100%",height:"400px"},children:[r.jsx(u,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),r.jsx(x,{position:o,icon:j,children:r.jsx(g,{children:r.jsxs("div",{children:[r.jsx("h3",{children:l}),n&&r.jsxs("p",{children:[r.jsx("strong",{children:"Coordenadas:"})," ",n]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Dirección aproximada:"})," ",d]})]})})})]})};export{M as default};
