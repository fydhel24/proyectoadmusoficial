import{j as e,r as s}from"./app-DwTpSH0U.js";import{u as Ce,d as st,e as At,f as Ot,g as Lt,A as Bt,h as Ft,V as Vt,i as Ht,j as Ut,k as zt,l as $t,F as Wt,m as Gt,n as Kt,o as qt,C as $e,p as We,q as Ge,r as Yt,s as Xt,t as Zt,v as Ke,X as Qt}from"./avatar-3rZPDCsD.js";import{a as te,S as Jt,b as es,u as X,c as ts,B as Se}from"./button-CE2sw9In.js";import{C as we,a as ke,b as qe,d as ye}from"./card-CEPLMO9J.js";import{u as Me,c as at,a as M,P as ss,d as ee}from"./index-DQwHB60N.js";import{P as L}from"./index-Bu13Uyqm.js";import{D as as,b as os,g as ns,c as rs,e as ls}from"./dialog-Dh6yTeZq.js";import{I as Ye,L as F}from"./label-BhffNSzH.js";import{r as ot}from"./index-DuFQU5C7.js";import{u as is,C as cs}from"./index-ClcumgOh.js";import{c as he}from"./createLucideIcon-8z-XiBgF.js";import{S as ds}from"./separator-BwJwY9Kl.js";import{C as Xe}from"./calendar-C1TN0O7c.js";import{P as us}from"./plus-CVhXzNaD.js";import{F as ps}from"./filter-BTd9aez-.js";import{S as ms}from"./search-D2BGzG1P.js";import{C as hs}from"./clock-DjNsw-_e.js";import{S as xs}from"./square-pen-DYRMMsZ-.js";import{T as fs}from"./trash-2-9BBUL3wN.js";import{S as vs}from"./save-DHXkCvHw.js";import{C as gs}from"./circle-check-big-plq8XBze.js";import{C as js}from"./circle-alert-BitfDkvR.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ws=he("Building",Ss);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],be=he("ChevronDown",ys);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ns=he("ChevronUp",bs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ze=he("Circle",Cs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],_s=he("Ellipsis",Ts);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ps=he("Tag",Is);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Es=he("User",Rs);function ge({className:t,...o}){return e.jsx("div",{"data-slot":"skeleton",className:te("bg-primary/10 animate-pulse rounded-md",t),...o})}const Ds=es("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function q({className:t,variant:o,asChild:a=!1,...c}){const r=a?Jt:"span";return e.jsx(r,{"data-slot":"badge",className:te(Ds({variant:o}),t),...c})}var Te="Collapsible",[ks,za]=at(Te),[Ms,Ve]=ks(Te),nt=s.forwardRef((t,o)=>{const{__scopeCollapsible:a,open:c,defaultOpen:r,disabled:m,onOpenChange:i,...u}=t,[d,x]=Me({prop:c,defaultProp:r??!1,onChange:i,caller:Te});return e.jsx(Ms,{scope:a,disabled:m,contentId:Ce(),open:d,onOpenToggle:s.useCallback(()=>x(j=>!j),[x]),children:e.jsx(L.div,{"data-state":Ue(d),"data-disabled":m?"":void 0,...u,ref:o})})});nt.displayName=Te;var rt="CollapsibleTrigger",lt=s.forwardRef((t,o)=>{const{__scopeCollapsible:a,...c}=t,r=Ve(rt,a);return e.jsx(L.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":Ue(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...c,ref:o,onClick:M(t.onClick,r.onOpenToggle)})});lt.displayName=rt;var He="CollapsibleContent",it=s.forwardRef((t,o)=>{const{forceMount:a,...c}=t,r=Ve(He,t.__scopeCollapsible);return e.jsx(ss,{present:a||r.open,children:({present:m})=>e.jsx(As,{...c,ref:o,present:m})})});it.displayName=He;var As=s.forwardRef((t,o)=>{const{__scopeCollapsible:a,present:c,children:r,...m}=t,i=Ve(He,a),[u,d]=s.useState(c),x=s.useRef(null),j=X(o,x),y=s.useRef(0),N=y.current,I=s.useRef(0),b=I.current,h=i.open||u,v=s.useRef(h),w=s.useRef(void 0);return s.useEffect(()=>{const p=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(p)},[]),ee(()=>{const p=x.current;if(p){w.current=w.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const f=p.getBoundingClientRect();y.current=f.height,I.current=f.width,v.current||(p.style.transitionDuration=w.current.transitionDuration,p.style.animationName=w.current.animationName),d(c)}},[i.open,c]),e.jsx(L.div,{"data-state":Ue(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!h,...m,ref:j,style:{"--radix-collapsible-content-height":N?`${N}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:h&&r})});function Ue(t){return t?"open":"closed"}var Os=nt;function Qe({...t}){return e.jsx(Os,{"data-slot":"collapsible",...t})}function Je({...t}){return e.jsx(lt,{"data-slot":"collapsible-trigger",...t})}function et({...t}){return e.jsx(it,{"data-slot":"collapsible-content",...t})}function tt(t,[o,a]){return Math.min(a,Math.max(o,t))}var Ls=[" ","Enter","ArrowUp","ArrowDown"],Bs=[" ","Enter"],pe="Select",[_e,Ie,Fs]=Lt(pe),[fe,$a]=at(pe,[Fs,st]),Pe=st(),[Vs,se]=fe(pe),[Hs,Us]=fe(pe),ct=t=>{const{__scopeSelect:o,children:a,open:c,defaultOpen:r,onOpenChange:m,value:i,defaultValue:u,onValueChange:d,dir:x,name:j,autoComplete:y,disabled:N,required:I,form:b}=t,h=Pe(o),[v,w]=s.useState(null),[p,f]=s.useState(null),[V,A]=s.useState(!1),D=At(x),[R,B]=Me({prop:c,defaultProp:r??!1,onChange:m,caller:pe}),[Z,Q]=Me({prop:i,defaultProp:u,onChange:d,caller:pe}),$=s.useRef(null),H=v?b||!!v.closest("form"):!0,[W,U]=s.useState(new Set),G=Array.from(W).map(k=>k.props.value).join(";");return e.jsx(Ot,{...h,children:e.jsxs(Vs,{required:I,scope:o,trigger:v,onTriggerChange:w,valueNode:p,onValueNodeChange:f,valueNodeHasChildren:V,onValueNodeHasChildrenChange:A,contentId:Ce(),value:Z,onValueChange:Q,open:R,onOpenChange:B,dir:D,triggerPointerDownPosRef:$,disabled:N,children:[e.jsx(_e.Provider,{scope:o,children:e.jsx(Hs,{scope:t.__scopeSelect,onNativeOptionAdd:s.useCallback(k=>{U(z=>new Set(z).add(k))},[]),onNativeOptionRemove:s.useCallback(k=>{U(z=>{const K=new Set(z);return K.delete(k),K})},[]),children:a})}),H?e.jsxs(Et,{"aria-hidden":!0,required:I,tabIndex:-1,name:j,autoComplete:y,value:Z,onChange:k=>Q(k.target.value),disabled:N,form:b,children:[Z===void 0?e.jsx("option",{value:""}):null,Array.from(W)]},G):null]})})};ct.displayName=pe;var dt="SelectTrigger",ut=s.forwardRef((t,o)=>{const{__scopeSelect:a,disabled:c=!1,...r}=t,m=Pe(a),i=se(dt,a),u=i.disabled||c,d=X(o,i.onTriggerChange),x=Ie(a),j=s.useRef("touch"),[y,N,I]=kt(h=>{const v=x().filter(f=>!f.disabled),w=v.find(f=>f.value===i.value),p=Mt(v,h,w);p!==void 0&&i.onValueChange(p.value)}),b=h=>{u||(i.onOpenChange(!0),I()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return e.jsx(Bt,{asChild:!0,...m,children:e.jsx(L.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Dt(i.value)?"":void 0,...r,ref:d,onClick:M(r.onClick,h=>{h.currentTarget.focus(),j.current!=="mouse"&&b(h)}),onPointerDown:M(r.onPointerDown,h=>{j.current=h.pointerType;const v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(b(h),h.preventDefault())}),onKeyDown:M(r.onKeyDown,h=>{const v=y.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&N(h.key),!(v&&h.key===" ")&&Ls.includes(h.key)&&(b(),h.preventDefault())})})})});ut.displayName=dt;var pt="SelectValue",mt=s.forwardRef((t,o)=>{const{__scopeSelect:a,className:c,style:r,children:m,placeholder:i="",...u}=t,d=se(pt,a),{onValueNodeHasChildrenChange:x}=d,j=m!==void 0,y=X(o,d.onValueNodeChange);return ee(()=>{x(j)},[x,j]),e.jsx(L.span,{...u,ref:y,style:{pointerEvents:"none"},children:Dt(d.value)?e.jsx(e.Fragment,{children:i}):m})});mt.displayName=pt;var zs="SelectIcon",ht=s.forwardRef((t,o)=>{const{__scopeSelect:a,children:c,...r}=t;return e.jsx(L.span,{"aria-hidden":!0,...r,ref:o,children:c||"▼"})});ht.displayName=zs;var $s="SelectPortal",xt=t=>e.jsx(Ft,{asChild:!0,...t});xt.displayName=$s;var me="SelectContent",ft=s.forwardRef((t,o)=>{const a=se(me,t.__scopeSelect),[c,r]=s.useState();if(ee(()=>{r(new DocumentFragment)},[]),!a.open){const m=c;return m?ot.createPortal(e.jsx(vt,{scope:t.__scopeSelect,children:e.jsx(_e.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),m):null}return e.jsx(gt,{...t,ref:o})});ft.displayName=me;var Y=10,[vt,ae]=fe(me),Ws="SelectContentImpl",Gs=ts("SelectContent.RemoveScroll"),gt=s.forwardRef((t,o)=>{const{__scopeSelect:a,position:c="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:m,onPointerDownOutside:i,side:u,sideOffset:d,align:x,alignOffset:j,arrowPadding:y,collisionBoundary:N,collisionPadding:I,sticky:b,hideWhenDetached:h,avoidCollisions:v,...w}=t,p=se(me,a),[f,V]=s.useState(null),[A,D]=s.useState(null),R=X(o,l=>V(l)),[B,Z]=s.useState(null),[Q,$]=s.useState(null),H=Ie(a),[W,U]=s.useState(!1),G=s.useRef(!1);s.useEffect(()=>{if(f)return Ut(f)},[f]),zt();const k=s.useCallback(l=>{const[C,...g]=H().map(_=>_.ref.current),[P]=g.slice(-1),T=document.activeElement;for(const _ of l)if(_===T||(_==null||_.scrollIntoView({block:"nearest"}),_===C&&A&&(A.scrollTop=0),_===P&&A&&(A.scrollTop=A.scrollHeight),_==null||_.focus(),document.activeElement!==T))return},[H,A]),z=s.useCallback(()=>k([B,f]),[k,B,f]);s.useEffect(()=>{W&&z()},[W,z]);const{onOpenChange:K,triggerPointerDownPosRef:J}=p;s.useEffect(()=>{if(f){let l={x:0,y:0};const C=P=>{var T,_;l={x:Math.abs(Math.round(P.pageX)-(((T=J.current)==null?void 0:T.x)??0)),y:Math.abs(Math.round(P.pageY)-(((_=J.current)==null?void 0:_.y)??0))}},g=P=>{l.x<=10&&l.y<=10?P.preventDefault():f.contains(P.target)||K(!1),document.removeEventListener("pointermove",C),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",C),document.addEventListener("pointerup",g,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",g,{capture:!0})}}},[f,K,J]),s.useEffect(()=>{const l=()=>K(!1);return window.addEventListener("blur",l),window.addEventListener("resize",l),()=>{window.removeEventListener("blur",l),window.removeEventListener("resize",l)}},[K]);const[xe,oe]=kt(l=>{const C=H().filter(T=>!T.disabled),g=C.find(T=>T.ref.current===document.activeElement),P=Mt(C,l,g);P&&setTimeout(()=>P.ref.current.focus())}),ne=s.useCallback((l,C,g)=>{const P=!G.current&&!g;(p.value!==void 0&&p.value===C||P)&&(Z(l),P&&(G.current=!0))},[p.value]),ve=s.useCallback(()=>f==null?void 0:f.focus(),[f]),n=s.useCallback((l,C,g)=>{const P=!G.current&&!g;(p.value!==void 0&&p.value===C||P)&&$(l)},[p.value]),S=c==="popper"?Ae:jt,E=S===Ae?{side:u,sideOffset:d,align:x,alignOffset:j,arrowPadding:y,collisionBoundary:N,collisionPadding:I,sticky:b,hideWhenDetached:h,avoidCollisions:v}:{};return e.jsx(vt,{scope:a,content:f,viewport:A,onViewportChange:D,itemRefCallback:ne,selectedItem:B,onItemLeave:ve,itemTextRefCallback:n,focusSelectedItem:z,selectedItemText:Q,position:c,isPositioned:W,searchRef:xe,children:e.jsx($t,{as:Gs,allowPinchZoom:!0,children:e.jsx(Wt,{asChild:!0,trapped:p.open,onMountAutoFocus:l=>{l.preventDefault()},onUnmountAutoFocus:M(r,l=>{var C;(C=p.trigger)==null||C.focus({preventScroll:!0}),l.preventDefault()}),children:e.jsx(Gt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:m,onPointerDownOutside:i,onFocusOutside:l=>l.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(S,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:l=>l.preventDefault(),...w,...E,onPlaced:()=>U(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:M(w.onKeyDown,l=>{const C=l.ctrlKey||l.altKey||l.metaKey;if(l.key==="Tab"&&l.preventDefault(),!C&&l.key.length===1&&oe(l.key),["ArrowUp","ArrowDown","Home","End"].includes(l.key)){let P=H().filter(T=>!T.disabled).map(T=>T.ref.current);if(["ArrowUp","End"].includes(l.key)&&(P=P.slice().reverse()),["ArrowUp","ArrowDown"].includes(l.key)){const T=l.target,_=P.indexOf(T);P=P.slice(_+1)}setTimeout(()=>k(P)),l.preventDefault()}})})})})})})});gt.displayName=Ws;var Ks="SelectItemAlignedPosition",jt=s.forwardRef((t,o)=>{const{__scopeSelect:a,onPlaced:c,...r}=t,m=se(me,a),i=ae(me,a),[u,d]=s.useState(null),[x,j]=s.useState(null),y=X(o,R=>j(R)),N=Ie(a),I=s.useRef(!1),b=s.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:w,focusSelectedItem:p}=i,f=s.useCallback(()=>{if(m.trigger&&m.valueNode&&u&&x&&h&&v&&w){const R=m.trigger.getBoundingClientRect(),B=x.getBoundingClientRect(),Z=m.valueNode.getBoundingClientRect(),Q=w.getBoundingClientRect();if(m.dir!=="rtl"){const T=Q.left-B.left,_=Z.left-T,re=R.left-_,le=R.width+re,Re=Math.max(le,B.width),Ee=window.innerWidth-Y,De=tt(_,[Y,Math.max(Y,Ee-Re)]);u.style.minWidth=le+"px",u.style.left=De+"px"}else{const T=B.right-Q.right,_=window.innerWidth-Z.right-T,re=window.innerWidth-R.right-_,le=R.width+re,Re=Math.max(le,B.width),Ee=window.innerWidth-Y,De=tt(_,[Y,Math.max(Y,Ee-Re)]);u.style.minWidth=le+"px",u.style.right=De+"px"}const $=N(),H=window.innerHeight-Y*2,W=h.scrollHeight,U=window.getComputedStyle(x),G=parseInt(U.borderTopWidth,10),k=parseInt(U.paddingTop,10),z=parseInt(U.borderBottomWidth,10),K=parseInt(U.paddingBottom,10),J=G+k+W+K+z,xe=Math.min(v.offsetHeight*5,J),oe=window.getComputedStyle(h),ne=parseInt(oe.paddingTop,10),ve=parseInt(oe.paddingBottom,10),n=R.top+R.height/2-Y,S=H-n,E=v.offsetHeight/2,l=v.offsetTop+E,C=G+k+l,g=J-C;if(C<=n){const T=$.length>0&&v===$[$.length-1].ref.current;u.style.bottom="0px";const _=x.clientHeight-h.offsetTop-h.offsetHeight,re=Math.max(S,E+(T?ve:0)+_+z),le=C+re;u.style.height=le+"px"}else{const T=$.length>0&&v===$[0].ref.current;u.style.top="0px";const re=Math.max(n,G+h.offsetTop+(T?ne:0)+E)+g;u.style.height=re+"px",h.scrollTop=C-n+h.offsetTop}u.style.margin=`${Y}px 0`,u.style.minHeight=xe+"px",u.style.maxHeight=H+"px",c==null||c(),requestAnimationFrame(()=>I.current=!0)}},[N,m.trigger,m.valueNode,u,x,h,v,w,m.dir,c]);ee(()=>f(),[f]);const[V,A]=s.useState();ee(()=>{x&&A(window.getComputedStyle(x).zIndex)},[x]);const D=s.useCallback(R=>{R&&b.current===!0&&(f(),p==null||p(),b.current=!1)},[f,p]);return e.jsx(Ys,{scope:a,contentWrapper:u,shouldExpandOnScrollRef:I,onScrollButtonChange:D,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:V},children:e.jsx(L.div,{...r,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});jt.displayName=Ks;var qs="SelectPopperPosition",Ae=s.forwardRef((t,o)=>{const{__scopeSelect:a,align:c="start",collisionPadding:r=Y,...m}=t,i=Pe(a);return e.jsx(Kt,{...i,...m,ref:o,align:c,collisionPadding:r,style:{boxSizing:"border-box",...m.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ae.displayName=qs;var[Ys,ze]=fe(me,{}),Oe="SelectViewport",St=s.forwardRef((t,o)=>{const{__scopeSelect:a,nonce:c,...r}=t,m=ae(Oe,a),i=ze(Oe,a),u=X(o,m.onViewportChange),d=s.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),e.jsx(_e.Slot,{scope:a,children:e.jsx(L.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:M(r.onScroll,x=>{const j=x.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:N}=i;if(N!=null&&N.current&&y){const I=Math.abs(d.current-j.scrollTop);if(I>0){const b=window.innerHeight-Y*2,h=parseFloat(y.style.minHeight),v=parseFloat(y.style.height),w=Math.max(h,v);if(w<b){const p=w+I,f=Math.min(b,p),V=p-f;y.style.height=f+"px",y.style.bottom==="0px"&&(j.scrollTop=V>0?V:0,y.style.justifyContent="flex-end")}}}d.current=j.scrollTop})})})]})});St.displayName=Oe;var wt="SelectGroup",[Xs,Zs]=fe(wt),Qs=s.forwardRef((t,o)=>{const{__scopeSelect:a,...c}=t,r=Ce();return e.jsx(Xs,{scope:a,id:r,children:e.jsx(L.div,{role:"group","aria-labelledby":r,...c,ref:o})})});Qs.displayName=wt;var yt="SelectLabel",Js=s.forwardRef((t,o)=>{const{__scopeSelect:a,...c}=t,r=Zs(yt,a);return e.jsx(L.div,{id:r.id,...c,ref:o})});Js.displayName=yt;var Ne="SelectItem",[ea,bt]=fe(Ne),Nt=s.forwardRef((t,o)=>{const{__scopeSelect:a,value:c,disabled:r=!1,textValue:m,...i}=t,u=se(Ne,a),d=ae(Ne,a),x=u.value===c,[j,y]=s.useState(m??""),[N,I]=s.useState(!1),b=X(o,p=>{var f;return(f=d.itemRefCallback)==null?void 0:f.call(d,p,c,r)}),h=Ce(),v=s.useRef("touch"),w=()=>{r||(u.onValueChange(c),u.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ea,{scope:a,value:c,disabled:r,textId:h,isSelected:x,onItemTextChange:s.useCallback(p=>{y(f=>f||((p==null?void 0:p.textContent)??"").trim())},[]),children:e.jsx(_e.ItemSlot,{scope:a,value:c,disabled:r,textValue:j,children:e.jsx(L.div,{role:"option","aria-labelledby":h,"data-highlighted":N?"":void 0,"aria-selected":x&&N,"data-state":x?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...i,ref:b,onFocus:M(i.onFocus,()=>I(!0)),onBlur:M(i.onBlur,()=>I(!1)),onClick:M(i.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:M(i.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:M(i.onPointerDown,p=>{v.current=p.pointerType}),onPointerMove:M(i.onPointerMove,p=>{var f;v.current=p.pointerType,r?(f=d.onItemLeave)==null||f.call(d):v.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:M(i.onPointerLeave,p=>{var f;p.currentTarget===document.activeElement&&((f=d.onItemLeave)==null||f.call(d))}),onKeyDown:M(i.onKeyDown,p=>{var V;((V=d.searchRef)==null?void 0:V.current)!==""&&p.key===" "||(Bs.includes(p.key)&&w(),p.key===" "&&p.preventDefault())})})})})});Nt.displayName=Ne;var je="SelectItemText",Ct=s.forwardRef((t,o)=>{const{__scopeSelect:a,className:c,style:r,...m}=t,i=se(je,a),u=ae(je,a),d=bt(je,a),x=Us(je,a),[j,y]=s.useState(null),N=X(o,w=>y(w),d.onItemTextChange,w=>{var p;return(p=u.itemTextRefCallback)==null?void 0:p.call(u,w,d.value,d.disabled)}),I=j==null?void 0:j.textContent,b=s.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:I},d.value),[d.disabled,d.value,I]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=x;return ee(()=>(h(b),()=>v(b)),[h,v,b]),e.jsxs(e.Fragment,{children:[e.jsx(L.span,{id:d.textId,...m,ref:N}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ot.createPortal(m.children,i.valueNode):null]})});Ct.displayName=je;var Tt="SelectItemIndicator",_t=s.forwardRef((t,o)=>{const{__scopeSelect:a,...c}=t;return bt(Tt,a).isSelected?e.jsx(L.span,{"aria-hidden":!0,...c,ref:o}):null});_t.displayName=Tt;var Le="SelectScrollUpButton",It=s.forwardRef((t,o)=>{const a=ae(Le,t.__scopeSelect),c=ze(Le,t.__scopeSelect),[r,m]=s.useState(!1),i=X(o,c.onScrollButtonChange);return ee(()=>{if(a.viewport&&a.isPositioned){let u=function(){const x=d.scrollTop>0;m(x)};const d=a.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[a.viewport,a.isPositioned]),r?e.jsx(Rt,{...t,ref:i,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=a;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});It.displayName=Le;var Be="SelectScrollDownButton",Pt=s.forwardRef((t,o)=>{const a=ae(Be,t.__scopeSelect),c=ze(Be,t.__scopeSelect),[r,m]=s.useState(!1),i=X(o,c.onScrollButtonChange);return ee(()=>{if(a.viewport&&a.isPositioned){let u=function(){const x=d.scrollHeight-d.clientHeight,j=Math.ceil(d.scrollTop)<x;m(j)};const d=a.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[a.viewport,a.isPositioned]),r?e.jsx(Rt,{...t,ref:i,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=a;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});Pt.displayName=Be;var Rt=s.forwardRef((t,o)=>{const{__scopeSelect:a,onAutoScroll:c,...r}=t,m=ae("SelectScrollButton",a),i=s.useRef(null),u=Ie(a),d=s.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return s.useEffect(()=>()=>d(),[d]),ee(()=>{var j;const x=u().find(y=>y.ref.current===document.activeElement);(j=x==null?void 0:x.ref.current)==null||j.scrollIntoView({block:"nearest"})},[u]),e.jsx(L.div,{"aria-hidden":!0,...r,ref:o,style:{flexShrink:0,...r.style},onPointerDown:M(r.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(c,50))}),onPointerMove:M(r.onPointerMove,()=>{var x;(x=m.onItemLeave)==null||x.call(m),i.current===null&&(i.current=window.setInterval(c,50))}),onPointerLeave:M(r.onPointerLeave,()=>{d()})})}),ta="SelectSeparator",sa=s.forwardRef((t,o)=>{const{__scopeSelect:a,...c}=t;return e.jsx(L.div,{"aria-hidden":!0,...c,ref:o})});sa.displayName=ta;var Fe="SelectArrow",aa=s.forwardRef((t,o)=>{const{__scopeSelect:a,...c}=t,r=Pe(a),m=se(Fe,a),i=ae(Fe,a);return m.open&&i.position==="popper"?e.jsx(qt,{...r,...c,ref:o}):null});aa.displayName=Fe;var oa="SelectBubbleInput",Et=s.forwardRef(({__scopeSelect:t,value:o,...a},c)=>{const r=s.useRef(null),m=X(c,r),i=is(o);return s.useEffect(()=>{const u=r.current;if(!u)return;const d=window.HTMLSelectElement.prototype,j=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==o&&j){const y=new Event("change",{bubbles:!0});j.call(u,o),u.dispatchEvent(y)}},[i,o]),e.jsx(L.select,{...a,style:{...Vt,...a.style},ref:m,defaultValue:o})});Et.displayName=oa;function Dt(t){return t===""||t===void 0}function kt(t){const o=Ht(t),a=s.useRef(""),c=s.useRef(0),r=s.useCallback(i=>{const u=a.current+i;o(u),function d(x){a.current=x,window.clearTimeout(c.current),x!==""&&(c.current=window.setTimeout(()=>d(""),1e3))}(u)},[o]),m=s.useCallback(()=>{a.current="",window.clearTimeout(c.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(c.current),[]),[a,r,m]}function Mt(t,o,a){const r=o.length>1&&Array.from(o).every(x=>x===o[0])?o[0]:o,m=a?t.indexOf(a):-1;let i=na(t,Math.max(m,0));r.length===1&&(i=i.filter(x=>x!==a));const d=i.find(x=>x.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==a?d:void 0}function na(t,o){return t.map((a,c)=>t[(o+c)%t.length])}var ra=ct,la=ut,ia=mt,ca=ht,da=xt,ua=ft,pa=St,ma=Nt,ha=Ct,xa=_t,fa=It,va=Pt;function ie({...t}){return e.jsx(ra,{"data-slot":"select",...t})}function ce({...t}){return e.jsx(ia,{"data-slot":"select-value",...t})}function de({className:t,children:o,...a}){return e.jsxs(la,{"data-slot":"select-trigger",className:te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",t),...a,children:[o,e.jsx(ca,{asChild:!0,children:e.jsx(be,{className:"size-4 opacity-50"})})]})}function ue({className:t,children:o,position:a="popper",...c}){return e.jsx(da,{children:e.jsxs(ua,{"data-slot":"select-content",className:te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...c,children:[e.jsx(ga,{}),e.jsx(pa,{className:te("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:o}),e.jsx(ja,{})]})})}function O({className:t,children:o,...a}){return e.jsxs(ma,{"data-slot":"select-item",className:te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...a,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(xa,{children:e.jsx(cs,{className:"size-4"})})}),e.jsx(ha,{children:o})]})}function ga({className:t,...o}){return e.jsx(fa,{"data-slot":"select-scroll-up-button",className:te("flex cursor-default items-center justify-center py-1",t),...o,children:e.jsx(Ns,{className:"size-4"})})}function ja({className:t,...o}){return e.jsx(va,{"data-slot":"select-scroll-down-button",className:te("flex cursor-default items-center justify-center py-1",t),...o,children:e.jsx(be,{className:"size-4"})})}function Wa(){const[t,o]=s.useState(null),[a,c]=s.useState(null),[r,m]=s.useState(!0),[i,u]=s.useState([]),[d,x]=s.useState([]),[j,y]=s.useState([]),[N,I]=s.useState(""),[b,h]=s.useState("all"),[v,w]=s.useState("all"),[p,f]=s.useState("all"),[V,A]=s.useState(!1),[D,R]=s.useState({titulo:"",prioridad:"",descripcion:"",fecha:"",tipo_id:"",company_id:""}),[B,Z]=s.useState("aleatoria"),[Q,$]=s.useState(""),[H,W]=s.useState({}),[U,G]=s.useState({});s.useEffect(()=>{const n={inicio:"2024-01-15",fin:"2024-01-21",dias:{"2024-01-15":[{id:1,titulo:"Diseñar landing page",descripcion:"Crear el diseño de la página principal del sitio web",prioridad:"alta",fecha:"2024-01-15",tipo:{id:1,nombre_tipo:"Diseño"},company:{id:1,name:"TechCorp"},asignados:[{id:1,user_id:1,user_name:"Ana García",estado:"en_revision",detalle:"Mockups completados al 80%"}]},{id:2,titulo:"Optimizar base de datos",descripcion:"Mejorar el rendimiento de las consultas principales",prioridad:"media",fecha:"2024-01-15",tipo:{id:2,nombre_tipo:"Backend"},company:{id:2,name:"DataSoft"},asignados:[{id:2,user_id:2,user_name:"Carlos López",estado:"pendiente",detalle:"Análisis inicial completado"}]}],"2024-01-16":[{id:3,titulo:"Testing de aplicación móvil",descripcion:"Realizar pruebas exhaustivas en diferentes dispositivos",prioridad:"alta",fecha:"2024-01-16",tipo:{id:3,nombre_tipo:"QA"},company:{id:1,name:"TechCorp"},asignados:[{id:3,user_id:3,user_name:"María Rodríguez",estado:"publicada",detalle:"Todas las pruebas completadas exitosamente"}]}],"2024-01-17":[],"2024-01-18":[{id:4,titulo:"Documentación API",descripcion:"Crear documentación completa de los endpoints",prioridad:"baja",fecha:"2024-01-18",tipo:{id:4,nombre_tipo:"Documentación"},company:{id:3,name:"DevStudio"},asignados:[{id:4,user_id:1,user_name:"Ana García",estado:"pendiente",detalle:"Iniciando estructura del documento"}]}],"2024-01-19":[],"2024-01-20":[],"2024-01-21":[]}};setTimeout(()=>{o(n),u([{id:1,nombre:"Diseño"},{id:2,nombre:"Backend"},{id:3,nombre:"QA"},{id:4,nombre:"Documentación"}]),x([{id:1,name:"TechCorp"},{id:2,name:"DataSoft"},{id:3,name:"DevStudio"}]),y([{id:1,name:"Ana García",email:"ana@example.com"},{id:2,name:"Carlos López",email:"carlos@example.com"},{id:3,name:"María Rodríguez",email:"maria@example.com"}]),m(!1);const S={};Object.keys(n.dias).forEach(E=>{S[E]=!0}),W(S)},1e3)},[]);const k=s.useMemo(()=>{if(!(t!=null&&t.dias))return[];let n=[];return Object.values(t.dias).forEach(S=>{n=[...n,...S]}),N&&(n=n.filter(S=>{var E;return S.titulo.toLowerCase().includes(N.toLowerCase())||((E=S.descripcion)==null?void 0:E.toLowerCase().includes(N.toLowerCase()))})),v!=="all"&&(n=n.filter(S=>S.prioridad===v)),b!=="all"&&(n=n.filter(S=>{var E;return(E=S.asignados)==null?void 0:E.some(l=>l.user_name===b)})),p!=="all"&&(n=n.filter(S=>{var E;return(E=S.asignados)==null?void 0:E.some(l=>l.estado===p)})),n},[t,N,v,b,p]),z=s.useMemo(()=>{const n={};return k.forEach(S=>{n[S.fecha]||(n[S.fecha]=[]),n[S.fecha].push(S)}),n},[k]),K=n=>{switch(n==null?void 0:n.toLowerCase()){case"alta":return"destructive";case"media":return"default";case"baja":return"secondary";default:return"outline"}},J=n=>{switch(n==null?void 0:n.toLowerCase()){case"alta":return e.jsx(js,{className:"h-4 w-4"});case"media":return e.jsx(Ze,{className:"h-4 w-4"});case"baja":return e.jsx(gs,{className:"h-4 w-4"});default:return e.jsx(Ze,{className:"h-4 w-4"})}},xe=n=>{switch(n){case"publicada":return"default";case"en_revision":return"secondary";case"pendiente":return"outline";default:return"outline"}},oe=n=>n.split(" ").map(S=>S[0]).join("").toUpperCase().slice(0,2),ne=n=>new Date(n).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"}),ve=async()=>{D.titulo.trim()&&(console.log("Creando tarea:",D),A(!1),R({titulo:"",prioridad:"",descripcion:"",fecha:"",tipo_id:"",company_id:""}))};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[e.jsx(ge,{className:"h-32 w-full rounded-xl"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsx(ge,{className:"h-10 rounded-lg"}),e.jsx(ge,{className:"h-10 rounded-lg"}),e.jsx(ge,{className:"h-10 rounded-lg"})]}),e.jsx(ge,{className:"h-96 w-full rounded-xl"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:e.jsx("div",{className:"mx-auto max-w-7xl px-6 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"flex items-center gap-3 text-4xl font-bold",children:[e.jsx(Xe,{className:"h-10 w-10"}),"Gestión de Tareas Semanales"]}),t&&e.jsxs("p",{className:"mt-2 text-xl opacity-90",children:["Semana del ",ne(t.inicio)," al ",ne(t.fin)]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs(q,{variant:"secondary",className:"px-3 py-1 text-sm",children:[k.length," tareas totales"]}),e.jsxs(q,{variant:"secondary",className:"px-3 py-1 text-sm",children:[Object.keys(z).length," días con tareas"]})]})]}),e.jsxs(Se,{onClick:()=>A(!0),size:"lg",className:"border border-white/30 bg-white/20 backdrop-blur-sm hover:bg-white/30",children:[e.jsx(us,{className:"mr-2 h-5 w-5"}),"Nueva Tarea"]})]})})}),e.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-8",children:[e.jsxs(we,{className:"mb-8 border-0 shadow-lg",children:[e.jsx(ke,{children:e.jsxs(qe,{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"h-5 w-5"}),"Filtros y Búsqueda"]})}),e.jsx(ye,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"text-muted-foreground absolute top-3 left-3 h-4 w-4"}),e.jsx(Ye,{placeholder:"Buscar tareas...",value:N,onChange:n=>I(n.target.value),className:"pl-10"})]}),e.jsxs(ie,{value:v,onValueChange:w,children:[e.jsx(de,{children:e.jsx(ce,{placeholder:"Filtrar por prioridad"})}),e.jsxs(ue,{children:[e.jsx(O,{value:"all",children:"Todas las prioridades"}),e.jsx(O,{value:"alta",children:"Alta"}),e.jsx(O,{value:"media",children:"Media"}),e.jsx(O,{value:"baja",children:"Baja"})]})]}),e.jsxs(ie,{value:b,onValueChange:h,children:[e.jsx(de,{children:e.jsx(ce,{placeholder:"Filtrar por usuario"})}),e.jsxs(ue,{children:[e.jsx(O,{value:"all",children:"Todos los usuarios"}),j.map(n=>e.jsx(O,{value:n.name,children:n.name},n.id))]})]}),e.jsxs(ie,{value:p,onValueChange:f,children:[e.jsx(de,{children:e.jsx(ce,{placeholder:"Filtrar por estado"})}),e.jsxs(ue,{children:[e.jsx(O,{value:"all",children:"Todos los estados"}),e.jsx(O,{value:"pendiente",children:"Pendiente"}),e.jsx(O,{value:"en_revision",children:"En Revisión"}),e.jsx(O,{value:"publicada",children:"Publicada"})]})]})]})})]}),e.jsx("div",{className:"space-y-6",children:t&&Object.keys(t.dias).map(n=>{const S=z[n]||[],E=t.dias[n]||[];return e.jsx(we,{className:"overflow-hidden border-0 shadow-lg",children:e.jsxs(Qe,{open:H[n],onOpenChange:l=>W({...H,[n]:l}),children:[e.jsx(Je,{asChild:!0,children:e.jsx(ke,{className:"cursor-pointer transition-colors hover:bg-slate-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[H[n]?e.jsx(be,{className:"text-muted-foreground h-5 w-5"}):e.jsx($e,{className:"text-muted-foreground h-5 w-5"}),e.jsxs("div",{children:[e.jsx(qe,{className:"text-xl",children:ne(n)}),e.jsxs("p",{className:"text-muted-foreground mt-1 text-sm",children:[E.length," ",E.length===1?"tarea":"tareas"," ","programadas",S.length!==E.length&&` • ${S.length} mostradas`]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:S.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(q,{variant:"outline",className:"text-xs",children:[S.filter(l=>l.prioridad==="alta").length," Alta"]}),e.jsxs(q,{variant:"outline",className:"text-xs",children:[S.filter(l=>l.prioridad==="media").length," Media"]}),e.jsxs(q,{variant:"outline",className:"text-xs",children:[S.filter(l=>l.prioridad==="baja").length," Baja"]})]})})]})})}),e.jsx(et,{children:e.jsx(ye,{className:"pt-0",children:S.length===0?e.jsxs("div",{className:"text-muted-foreground py-12 text-center",children:[e.jsx(Xe,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No hay tareas para este día"}),e.jsx("p",{className:"text-sm",children:"Las tareas aparecerán aquí cuando las crees"})]}):e.jsx("div",{className:"space-y-4",children:S.map(l=>{var C;return e.jsx(we,{className:"border border-slate-200 transition-shadow hover:shadow-md",children:e.jsxs(Qe,{open:U[l.id],onOpenChange:g=>G({...U,[l.id]:g}),children:[e.jsx(Je,{asChild:!0,children:e.jsx(ke,{className:"cursor-pointer pb-3 transition-colors hover:bg-slate-50/50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:l.titulo}),U[l.id]?e.jsx(be,{className:"text-muted-foreground h-4 w-4"}):e.jsx($e,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(q,{variant:K(l.prioridad||""),className:"text-xs",children:[J(l.prioridad||""),e.jsx("span",{className:"ml-1",children:((C=l.prioridad)==null?void 0:C.toUpperCase())||"SIN PRIORIDAD"})]}),l.tipo&&e.jsxs(q,{variant:"outline",className:"text-xs",children:[e.jsx(Ps,{className:"mr-1 h-3 w-3"}),l.tipo.nombre_tipo]}),l.company&&e.jsxs(q,{variant:"outline",className:"text-xs",children:[e.jsx(ws,{className:"mr-1 h-3 w-3"}),l.company.name]}),e.jsxs(q,{variant:"outline",className:"text-xs",children:[e.jsx(hs,{className:"mr-1 h-3 w-3"}),l.fecha]})]}),l.asignados&&l.asignados.length>0&&e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx(Es,{className:"text-muted-foreground h-4 w-4"}),e.jsx("div",{className:"flex items-center gap-2",children:l.asignados.map(g=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-6 w-6",children:e.jsx(Ge,{className:"text-xs",children:oe(g.user_name)})}),e.jsx("span",{className:"text-sm font-medium",children:g.user_name}),e.jsx(q,{variant:xe(g.estado),className:"text-xs",children:g.estado.replace("_"," ").toUpperCase()})]},g.id))})]})]}),e.jsxs(Yt,{children:[e.jsx(Xt,{asChild:!0,children:e.jsx(Se,{variant:"ghost",size:"sm",onClick:g=>g.stopPropagation(),children:e.jsx(_s,{className:"h-4 w-4"})})}),e.jsxs(Zt,{align:"end",children:[e.jsxs(Ke,{children:[e.jsx(xs,{className:"mr-2 h-4 w-4"}),"Editar tarea"]}),e.jsxs(Ke,{className:"text-destructive",children:[e.jsx(fs,{className:"mr-2 h-4 w-4"}),"Eliminar tarea"]})]})]})]})})}),e.jsx(et,{children:e.jsxs(ye,{className:"pt-0",children:[e.jsx(ds,{className:"mb-4"}),l.descripcion&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"mb-2 font-medium",children:"Descripción"}),e.jsx("p",{className:"text-muted-foreground rounded-lg bg-slate-50 p-3 text-sm",children:l.descripcion})]}),l.asignados&&l.asignados.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3 font-medium",children:"Progreso de Asignaciones"}),e.jsx("div",{className:"space-y-3",children:l.asignados.map(g=>e.jsx(we,{className:"border border-slate-200",children:e.jsxs(ye,{className:"p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(We,{className:"h-8 w-8",children:e.jsx(Ge,{children:oe(g.user_name)})}),e.jsx("span",{className:"font-medium",children:g.user_name})]}),e.jsx(q,{variant:xe(g.estado),children:g.estado.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(F,{className:"text-sm font-medium",children:"Estado:"}),e.jsxs(RadioGroup,{value:g.estado,className:"mt-2 flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(RadioGroupItem,{value:"pendiente",id:`pendiente-${g.id}`}),e.jsx(F,{htmlFor:`pendiente-${g.id}`,className:"text-sm",children:"Pendiente"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(RadioGroupItem,{value:"en_revision",id:`revision-${g.id}`}),e.jsx(F,{htmlFor:`revision-${g.id}`,className:"text-sm",children:"En Revisión"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(RadioGroupItem,{value:"publicada",id:`publicada-${g.id}`}),e.jsx(F,{htmlFor:`publicada-${g.id}`,className:"text-sm",children:"Publicada"})]})]})]}),e.jsxs("div",{children:[e.jsx(F,{className:"text-sm font-medium",children:"Detalle del progreso:"}),e.jsx(Textarea,{placeholder:"Escribe aquí los detalles del progreso...",defaultValue:g.detalle||"",className:"mt-2",rows:2})]})]})]})},g.id))})]})]})})]})},l.id)})})})})]})},n)})})]}),e.jsx(as,{open:V,onOpenChange:A,children:e.jsxs(os,{className:"max-w-2xl",children:[e.jsx(ns,{children:e.jsx(rs,{className:"text-xl",children:"✨ Crear Nueva Tarea"})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 py-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"titulo",children:"Título *"}),e.jsx(Ye,{id:"titulo",value:D.titulo,onChange:n=>R({...D,titulo:n.target.value}),placeholder:"Título de la tarea"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"prioridad",children:"Prioridad"}),e.jsxs(ie,{value:D.prioridad,onValueChange:n=>R({...D,prioridad:n}),children:[e.jsx(de,{children:e.jsx(ce,{placeholder:"Seleccionar prioridad"})}),e.jsxs(ue,{children:[e.jsx(O,{value:"alta",children:"Alta"}),e.jsx(O,{value:"media",children:"Media"}),e.jsx(O,{value:"baja",children:"Baja"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"tipo",children:"Tipo de Tarea"}),e.jsxs(ie,{value:D.tipo_id,onValueChange:n=>R({...D,tipo_id:n}),children:[e.jsx(de,{children:e.jsx(ce,{placeholder:"Seleccionar tipo"})}),e.jsx(ue,{children:i.map(n=>e.jsx(O,{value:String(n.id),children:n.nombre},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"empresa",children:"Empresa"}),e.jsxs(ie,{value:D.company_id,onValueChange:n=>R({...D,company_id:n}),children:[e.jsx(de,{children:e.jsx(ce,{placeholder:"Seleccionar empresa"})}),e.jsx(ue,{children:d.map(n=>e.jsx(O,{value:String(n.id),children:n.name},n.id))})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(F,{children:"Tipo de Asignación"}),e.jsxs(RadioGroup,{value:B,onValueChange:n=>Z(n),className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(RadioGroupItem,{value:"aleatoria",id:"aleatoria"}),e.jsx(F,{htmlFor:"aleatoria",children:"Asignación Aleatoria"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(RadioGroupItem,{value:"manual",id:"manual"}),e.jsx(F,{htmlFor:"manual",children:"Asignación Manual"})]})]})]}),B==="manual"&&e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(F,{htmlFor:"pasante",children:"Seleccionar Pasante"}),e.jsxs(ie,{value:Q,onValueChange:$,children:[e.jsxs(de,{children:[e.jsx(ce,{placeholder:"Seleccionar pasante"}),"y"]}),e.jsx(ue,{children:j.map(n=>e.jsxs(O,{value:String(n.id),children:[n.name," (",n.email,")"]},n.id))})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(F,{htmlFor:"descripcion",children:"Descripción"}),e.jsx(Textarea,{id:"descripcion",value:D.descripcion,onChange:n=>R({...D,descripcion:n.target.value}),placeholder:"Descripción detallada de la tarea",rows:3})]})]}),e.jsxs(ls,{children:[e.jsxs(Se,{variant:"outline",onClick:()=>A(!1),children:[e.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Cancelar"]}),e.jsxs(Se,{onClick:ve,disabled:!D.titulo.trim()||B==="manual"&&!Q,children:[e.jsx(vs,{className:"mr-2 h-4 w-4"}),"Crear Tarea"]})]})]})})]})}export{Wa as default};
