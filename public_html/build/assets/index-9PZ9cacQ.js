import{j as m,r as t}from"./app-YEuHkux5.js";import{c as j}from"./createSvgIcon-Bv7lX4UF.js";import{M as A,i as S,u as H,P as D,a as b,b as K,L as U}from"./proxy-DZqYXwdw.js";const q=j(m.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"})),J=j(m.jsx("path",{d:"M3 10h11v2H3zm0-4h11v2H3zm0 8h7v2H3zm17.59-2.07-4.25 4.24-2.12-2.12-1.41 1.41L16.34 19 22 13.34z"})),N=j(m.jsx("path",{d:"M23 17c0 3.31-2.69 6-6 6v-1.5c2.48 0 4.5-2.02 4.5-4.5zM1 7c0-3.31 2.69-6 6-6v1.5C4.52 2.5 2.5 4.52 2.5 7zm7.01-2.68-4.6 4.6c-3.22 3.22-3.22 8.45 0 11.67s8.45 3.22 11.67 0l7.07-7.07c.49-.49.49-1.28 0-1.77s-1.28-.49-1.77 0l-4.42 4.42-.71-.71 6.54-6.54c.49-.49.49-1.28 0-1.77s-1.28-.49-1.77 0l-5.83 5.83-.71-.71 6.89-6.89c.49-.49.49-1.28 0-1.77s-1.28-.49-1.77 0l-6.89 6.89-.69-.7 5.48-5.48c.49-.49.49-1.28 0-1.77s-1.28-.49-1.77 0l-7.62 7.62c1.22 1.57 1.11 3.84-.33 5.28l-.71-.71c1.17-1.17 1.17-3.07 0-4.24l-.35-.35 4.07-4.07c.49-.49.49-1.28 0-1.77-.5-.48-1.29-.48-1.78.01"}));class V extends t.Component{getSnapshotBeforeUpdate(f){const e=this.props.childRef.current;if(e&&f.isPresent&&!this.props.isPresent){const c=e.offsetParent,C=S(c)&&c.offsetWidth||0,n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft,n.right=C-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function B({children:i,isPresent:f,anchorX:e,root:c}){const C=t.useId(),n=t.useRef(null),p=t.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=t.useContext(A);return t.useInsertionEffect(()=>{const{width:v,height:s,top:x,left:r,right:a}=p.current;if(f||!n.current||!v||!s)return;const u=e==="left"?`left: ${r}`:`right: ${a}`;n.current.dataset.motionPopId=C;const l=document.createElement("style");y&&(l.nonce=y);const d=c??document.head;return d.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${C}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${s}px !important;
            ${u}px !important;
            top: ${x}px !important;
          }
        `),()=>{d.contains(l)&&d.removeChild(l)}},[f]),m.jsx(V,{isPresent:f,childRef:n,sizeRef:p,children:t.cloneElement(i,{ref:n})})}const F=({children:i,initial:f,isPresent:e,onExitComplete:c,custom:C,presenceAffectsLayout:n,mode:p,anchorX:y,root:v})=>{const s=H(G),x=t.useId();let r=!0,a=t.useMemo(()=>(r=!1,{id:x,initial:f,isPresent:e,custom:C,onExitComplete:u=>{s.set(u,!0);for(const l of s.values())if(!l)return;c&&c()},register:u=>(s.set(u,!1),()=>s.delete(u))}),[e,s,c]);return n&&r&&(a={...a}),t.useMemo(()=>{s.forEach((u,l)=>s.set(l,!1))},[e]),t.useEffect(()=>{!e&&!s.size&&c&&c()},[e]),p==="popLayout"&&(i=m.jsx(B,{isPresent:e,anchorX:y,root:v,children:i})),m.jsx(D.Provider,{value:a,children:i})};function G(){return new Map}const M=i=>i.key||"";function $(i){const f=[];return t.Children.forEach(i,e=>{t.isValidElement(e)&&f.push(e)}),f}const O=({children:i,custom:f,initial:e=!0,onExitComplete:c,presenceAffectsLayout:C=!0,mode:n="sync",propagate:p=!1,anchorX:y="left",root:v})=>{const[s,x]=b(p),r=t.useMemo(()=>$(i),[i]),a=p&&!s?[]:r.map(M),u=t.useRef(!0),l=t.useRef(r),d=H(()=>new Map),[I,k]=t.useState(r),[g,R]=t.useState(r);K(()=>{u.current=!1,l.current=r;for(let h=0;h<g.length;h++){const o=M(g[h]);a.includes(o)?d.delete(o):d.get(o)!==!0&&d.set(o,!1)}},[g,a.length,a.join("-")]);const P=[];if(r!==I){let h=[...r];for(let o=0;o<g.length;o++){const E=g[o],z=M(E);a.includes(z)||(h.splice(o,0,E),P.push(E))}return n==="wait"&&P.length&&(h=P),R($(h)),k(r),null}const{forceRender:w}=t.useContext(U);return m.jsx(m.Fragment,{children:g.map(h=>{const o=M(h),E=p&&!s?!1:r===g||a.includes(o),z=()=>{if(d.has(o))d.set(o,!0);else return;let L=!0;d.forEach(W=>{W||(L=!1)}),L&&(w==null||w(),R(l.current),p&&(x==null||x()),c&&c())};return m.jsx(F,{isPresent:E,initial:!u.current||e?void 0:!1,custom:f,presenceAffectsLayout:C,mode:n,root:v,onExitComplete:E?void 0:z,anchorX:y,children:h},o)})})};export{O as A,J as P,N as W,q as a};
