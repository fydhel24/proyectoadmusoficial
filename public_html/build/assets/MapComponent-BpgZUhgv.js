import{r as d,j as r}from"./app-DwTpSH0U.js";import{M as x,T as u,a as f}from"./leaflet-BFhW2prj.js";import{P as j}from"./Popup-GoMff8fj.js";import"./index-DuFQU5C7.js";const E=({company:t})=>{const[p,a]=d.useState(""),l=o=>{try{const[e,n]=o.split(",").map(i=>{const c=parseFloat(i.trim());if(isNaN(c))throw new Error("Invalid coordinate");return c});if(e<-90||e>90||n<-180||n>180)throw new Error("Out of range");return[e,n]}catch(e){return console.warn("Invalid coordinates, using default:",e),[-16.491381,-68.144709]}},s=t!=null&&t.direccion?l(t.direccion):[-16.491381,-68.144709],h=async(o,e)=>{try{const i=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${o}&lon=${e}&format=json`)).json();a(i.display_name||"Dirección no encontrada")}catch{a("Dirección no encontrada")}};return d.useEffect(()=>{s&&h(s[0],s[1])},[s]),r.jsxs(x,{center:s,zoom:13,style:{width:"100%",height:"400px"},children:[r.jsx(u,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),t&&r.jsx(f,{position:s,children:r.jsx(j,{children:r.jsxs("div",{children:[r.jsx("h3",{children:t.name}),r.jsxs("p",{children:[r.jsx("strong",{children:"Coordenadas:"})," ",t.direccion]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Dirección aproximada:"})," ",p]})]})})})]})};export{E as default};
