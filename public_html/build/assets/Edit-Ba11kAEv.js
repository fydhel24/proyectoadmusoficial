import{j as e,q as B,v as W,Y as b}from"./app-hmuC0z_W.js";import{A as S,B as v}from"./app-layout-tfxOdOKB.js";import{C as k}from"./Container-mX-SkPwN.js";import{s as u}from"./DefaultPropsProvider-B9G9mrQg.js";import{C as y}from"./CardContent-C53nuT2n.js";import{B as t}from"./Box-4C9-OmNb.js";import{A as I}from"./Avatar-B5gU_Hib.js";import{c as _}from"./createSvgIcon-DmtCSiy2.js";import{T as n}from"./Typography-D9aOS4L9.js";import{C as h}from"./Chip-Dcvl53u6.js";import{C as D}from"./CheckCircle-DIV5afmv.js";import{B as f}from"./Button-CI4PvYH9.js";import{A as T}from"./ArrowBack-B2mXjFUW.js";import{A as E}from"./Alert-n7JhyHaU.js";import{C as g}from"./Card-DF9nCZsV.js";import{D as C}from"./Description-CY4rYW4o.js";import{G as o}from"./Grid-B8p_XyNn.js";import{I as p}from"./InputAdornment-DSMijJF8.js";import{F as R,I as P,S as L}from"./Select-BXe5PBU8.js";import{M as x}from"./MenuItem-BrmMwhAd.js";import{D as z}from"./DateRange-CywSvTjq.js";import{D as O}from"./Divider-CF7op6F0.js";import{T as V}from"./TextField-C5FPbCxz.js";import"./button-BdWLbofJ.js";import"./clsx-B-dksMZM.js";import"./avatar-SH5xSAMo.js";import"./createLucideIcon-B2A0n4jm.js";import"./index-BeDZ4tg0.js";import"./index-B2CGEqEW.js";import"./index-CDmN9uZR.js";import"./settings-B81NYrWU.js";import"./app-logo-icon-DF-2vurZ.js";import"./useThemeProps-D5Z9mzbb.js";import"./getThemeProps-Ci1Myslq.js";import"./useSlot-b8oj5fjv.js";import"./TransitionGroupContext-zx_Mae6Z.js";import"./createSimplePaletteValueFilter-BLiQVDB3.js";import"./ButtonBase-CKxFeLN_.js";import"./useTimeout-CyHmLoFO.js";import"./useId-CIKGyZXY.js";import"./CircularProgress-DbGwbuXF.js";import"./Close-B1u00IW_.js";import"./IconButton-5suIbhPZ.js";import"./isMuiElement-DUef8CkO.js";import"./index-CPN-dXc6.js";import"./useSlotProps-B7GeVvJr.js";import"./List-e32Tbcmu.js";import"./ownerDocument-DW-IO8s5.js";import"./Modal-B3L5jhwL.js";import"./Portal-3qAPjvvz.js";import"./Fade-CwyH9ByJ.js";import"./debounce-Be36O1Ab.js";import"./Grow-CwDNX7JD.js";import"./useControlled-D8uUDMf0.js";import"./listItemTextClasses-BuwBTG13.js";import"./dividerClasses-DyS1-ewh.js";const G=_(e.jsx("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"})),H=_(e.jsx("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8z"})),Y=u(g)(({theme:i})=>({background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",marginBottom:i.spacing(4)})),c=u(V)(({theme:i})=>({"& .MuiOutlinedInput-root":{borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.05)","&:hover fieldset":{borderColor:i.palette.primary.main},"&.Mui-focused fieldset":{borderColor:i.palette.primary.main,borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:i.palette.primary.main}})),N=u(L)(({theme:i})=>({borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.05)","&:hover .MuiOutlinedInput-notchedOutline":{borderColor:i.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:i.palette.primary.main,borderWidth:2}})),q=u(f)(({theme:i})=>({borderRadius:12,padding:"12px 32px",background:"linear-gradient(45deg, #FF6B6B 30%, #FF8E53 90%)",boxShadow:"0 3px 5px 2px rgba(255, 107, 107, .3)","&:hover":{background:"linear-gradient(45deg, #FF5252 30%, #FF7043 90%)",transform:"translateY(-2px)",boxShadow:"0 6px 10px 4px rgba(255, 107, 107, .3)"},transition:"all 0.3s ease"})),Je=()=>{const{informe:i,companies:w}=B().props,{data:s,setData:l,put:A,processing:m,errors:a}=W({titulo:i.titulo,estado:i.estado??"activo",fecha_inicio:i.fecha_inicio,fecha_fin:i.fecha_fin??"",descripcion:i.descripcion??"",company_id:i.company_id}),F=r=>{r.preventDefault(),A(route("informes.update",i.id))},j=[{value:"pendiente",label:"Pendiente",color:"warning"},{value:"en_progreso",label:"En Progreso",color:"info"},{value:"completado",label:"Completado",color:"success"},{value:"activo",label:"Activo",color:"primary"}];return e.jsx(S,{children:e.jsxs(k,{maxWidth:"lg",sx:{py:6},children:[e.jsx(Y,{elevation:8,children:e.jsx(y,{sx:{p:4},children:e.jsxs(t,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(t,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(I,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:56,height:56},children:e.jsx(G,{fontSize:"large"})}),e.jsxs(t,{children:[e.jsx(n,{variant:"h3",fontWeight:"bold",gutterBottom:!0,children:"Editar Informe"}),e.jsx(n,{variant:"h6",sx:{opacity:.9},children:"Modifica la informaci√≥n de tu informe existente"}),e.jsx(h,{icon:e.jsx(D,{}),label:`ID: ${i.id}`,size:"small",sx:{mt:1,bgcolor:"rgba(255,255,255,0.2)",color:"white","& .MuiChip-icon":{color:"white"}}})]})]}),e.jsx(f,{component:b,href:route("informes.index"),variant:"outlined",startIcon:e.jsx(T,{}),sx:{borderColor:"rgba(255,255,255,0.5)",color:"white",borderRadius:3,px:3,py:1.5,"&:hover":{borderColor:"white",backgroundColor:"rgba(255,255,255,0.1)"}},children:"Volver"})]})})}),e.jsx(E,{severity:"info",sx:{mb:3,borderRadius:3,"& .MuiAlert-message":{fontSize:"1rem"}},children:e.jsxs(n,{variant:"body1",fontWeight:"medium",children:["üìù Est√°s editando el informe: ",e.jsxs("strong",{children:['"',i.titulo,'"']})]})}),e.jsxs(g,{elevation:12,sx:{borderRadius:4,overflow:"visible"},children:[e.jsx(t,{sx:{background:"linear-gradient(90deg, #f093fb 0%, #f5576c 100%)",p:3,color:"white"},children:e.jsxs(t,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(C,{fontSize:"large"}),e.jsxs(t,{children:[e.jsx(n,{variant:"h5",fontWeight:"bold",children:"Actualizar Informaci√≥n"}),e.jsx(n,{variant:"body2",sx:{opacity:.9},children:"Modifica los campos necesarios y guarda los cambios"})]})]})}),e.jsx(y,{sx:{p:4},children:e.jsx("form",{onSubmit:F,children:e.jsxs(o,{container:!0,spacing:4,children:[e.jsxs(o,{item:!0,xs:12,children:[e.jsx(t,{mb:2,children:e.jsx(n,{variant:"h6",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"üìã T√≠tulo del Informe"})}),e.jsx(c,{label:"T√≠tulo *",placeholder:"Ingresa un t√≠tulo descriptivo para tu informe",value:s.titulo,onChange:r=>l("titulo",r.target.value),fullWidth:!0,error:!!a.titulo,helperText:a.titulo,InputProps:{startAdornment:e.jsx(p,{position:"start",children:e.jsx(C,{color:"action"})})}})]}),e.jsxs(o,{item:!0,xs:12,children:[e.jsx(t,{mb:2,children:e.jsx(n,{variant:"h6",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"üè∑Ô∏è Estado y Fecha de Inicio"})}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(R,{fullWidth:!0,children:[e.jsx(P,{children:"Estado"}),e.jsx(N,{value:s.estado||"",onChange:r=>l("estado",r.target.value),label:"Estado",renderValue:r=>{if(!r)return"";const d=j.find(M=>M.value===r);return e.jsx(t,{display:"flex",alignItems:"center",gap:1,children:e.jsx(h,{label:d==null?void 0:d.label,color:d==null?void 0:d.color,size:"small",variant:"outlined"})})},children:j.map(r=>e.jsx(x,{value:r.value,children:e.jsx(t,{display:"flex",alignItems:"center",gap:2,children:e.jsx(h,{label:r.label,color:r.color,size:"small",variant:"outlined"})})},r.value))})]})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(c,{label:"Fecha de Inicio *",type:"date",value:s.fecha_inicio,onChange:r=>l("fecha_inicio",r.target.value),fullWidth:!0,InputLabelProps:{shrink:!0},error:!!a.fecha_inicio,helperText:a.fecha_inicio,InputProps:{startAdornment:e.jsx(p,{position:"start",children:e.jsx(z,{color:"action"})})}})})]})]}),e.jsxs(o,{item:!0,xs:12,children:[e.jsx(t,{mb:2,children:e.jsx(n,{variant:"h6",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"üè¢ Fecha de Fin y Empresa"})}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(c,{label:"Fecha de Fin",type:"date",value:s.fecha_fin||"",onChange:r=>l("fecha_fin",r.target.value),fullWidth:!0,InputLabelProps:{shrink:!0},error:!!a.fecha_fin,helperText:a.fecha_fin||"Opcional - deja vac√≠o si a√∫n no est√° definida",InputProps:{startAdornment:e.jsx(p,{position:"start",children:e.jsx(z,{color:"action"})})}})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(c,{select:!0,label:"Empresa",value:s.company_id??"",onChange:r=>l("company_id",r.target.value?Number(r.target.value):void 0),fullWidth:!0,error:!!a.company_id,helperText:a.company_id||"Selecciona la empresa asociada",InputProps:{startAdornment:e.jsx(p,{position:"start",children:e.jsx(v,{color:"action"})})},children:[e.jsx(x,{value:"",children:e.jsx("em",{children:"Selecciona una empresa"})}),w.map(r=>e.jsx(x,{value:r.id,children:e.jsxs(t,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(I,{sx:{width:24,height:24,bgcolor:"primary.main"},children:e.jsx(v,{fontSize:"small"})}),r.name]})},r.id))]})})]})]}),e.jsxs(o,{item:!0,xs:12,children:[e.jsx(t,{mb:2,children:e.jsx(n,{variant:"h6",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"üìù Descripci√≥n Detallada"})}),e.jsx(c,{label:"Descripci√≥n",placeholder:"Describe detalladamente el prop√≥sito y contenido de este informe...",value:s.descripcion||"",onChange:r=>l("descripcion",r.target.value),fullWidth:!0,multiline:!0,rows:5,error:!!a.descripcion,helperText:a.descripcion||"Proporciona una descripci√≥n clara del informe (opcional)"})]}),e.jsx(o,{item:!0,xs:12,children:e.jsx(O,{sx:{my:2}})}),e.jsx(o,{item:!0,xs:12,children:e.jsxs(t,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(f,{component:b,href:route("informes.index"),variant:"outlined",size:"large",sx:{borderRadius:3,px:4},children:"Cancelar"}),e.jsx(q,{type:"submit",variant:"contained",size:"large",disabled:m,startIcon:m?null:e.jsx(H,{}),endIcon:m?e.jsx(t,{sx:{width:20,height:20,border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}}):null,children:m?"Actualizando...":"Actualizar Informe"})]})})]})})})]}),e.jsx(g,{elevation:4,sx:{mt:4,borderRadius:3,background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",color:"#2d3436"}})]})})};export{Je as default};
