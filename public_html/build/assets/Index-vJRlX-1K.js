import{r as t,j as e,$ as S,Y as k,m as p}from"./app-hmuC0z_W.js";import{A as C}from"./app-layout-tfxOdOKB.js";import"./button-BdWLbofJ.js";import"./clsx-B-dksMZM.js";import"./avatar-SH5xSAMo.js";import"./createLucideIcon-B2A0n4jm.js";import"./index-BeDZ4tg0.js";import"./index-B2CGEqEW.js";import"./index-CDmN9uZR.js";import"./settings-B81NYrWU.js";import"./app-logo-icon-DF-2vurZ.js";import"./createSvgIcon-DmtCSiy2.js";import"./DefaultPropsProvider-B9G9mrQg.js";function W({videos:a,companies:L,months:g,filters:r,empresaNombre:f}){const[o,n]=t.useState(r.search),[b,y]=t.useState(r.company),[c,d]=t.useState(r.month),[i,m]=t.useState(r.fecha_desde||""),[u,x]=t.useState(r.fecha_hasta||""),[_,D]=t.useState(null),j=()=>{p.get("/videos",{search:o,company:b,month:c,fecha_desde:i,fecha_hasta:u},{preserveState:!0,preserveScroll:!0})},v=()=>{n(""),y(""),d(""),m(""),x(""),p.get("/videos",{},{preserveState:!0,preserveScroll:!0})},N=s=>s?new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"",w=s=>{const l=s.match(/video\/(\d+)/),h=l?l[1]:null;return h?`https://www.tiktok.com/embed/v2/${h}`:s};return e.jsxs(C,{children:[e.jsx(S,{title:"Videos de Empresas"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:f??"Videos de la Empresa"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",a.data.length," videos"]})]}),e.jsx("div",{className:"mb-6 rounded-lg bg-gray-50 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Buscar"}),e.jsx("input",{type:"text",placeholder:"Buscar titulo o detalle...",value:o,onChange:s=>n(s.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Mes"}),e.jsxs("select",{value:c,onChange:s=>d(s.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Todos los meses"}),g.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Desde"}),e.jsx("input",{type:"date",value:i,onChange:s=>m(s.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Hasta"}),e.jsx("input",{type:"date",value:u,onChange:s=>x(s.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("button",{onClick:j,className:"rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:"Filtrar"}),e.jsx("button",{onClick:v,className:"rounded-md bg-gray-600 px-4 py-2 text-white hover:bg-gray-700 focus:ring-2 focus:ring-gray-500 focus:outline-none",children:"Limpiar"})]})]})}),a.data.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a.data.map(s=>e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-md transition-shadow hover:shadow-lg",children:[e.jsx("div",{className:"aspect-[9/16] w-full overflow-hidden",children:e.jsx("iframe",{src:w(s.link.link),width:"100%",height:"100%",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture",className:"h-full w-full border-none"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center",children:[s.company.logo&&e.jsx("img",{src:s.company.logo,alt:s.company.name,className:"mr-2 h-8 w-8 rounded-full object-cover"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:s.company.name})]}),s.link.detalle&&e.jsx("p",{className:"mb-2 line-clamp-2 text-sm text-gray-600",children:s.link.detalle}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:s.mes}),e.jsx("span",{children:N(s.fecha)})]})]})]},s.id))}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay videos"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No se encontraron videos con los filtros aplicados."})]}),a.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex space-x-2",children:a.links.map((s,l)=>e.jsx(k,{href:s.url||"#",className:`rounded-md px-3 py-2 text-sm ${s.active?"bg-blue-600 text-white":s.url?"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"cursor-not-allowed bg-gray-100 text-gray-400"}`,dangerouslySetInnerHTML:{__html:s.label}},l))})})]})})})})]})}export{W as default};
