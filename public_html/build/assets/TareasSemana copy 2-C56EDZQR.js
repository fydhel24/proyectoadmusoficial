import{r as d,j as e,$ as j,m as g}from"./app-BrUOk1Jd.js";import{A as f}from"./app-layout-rz2FMMSh.js";import{L as D}from"./LocationOn-B0M3w8-V.js";import b from"./MapComponent-DYerOV9E.js";import{B as l}from"./Button-7LMP4OQ6.js";import{D as S,a as y,b as C}from"./DialogTitle-A84k6-_p.js";import{T}from"./Typography-CRQ1kdya.js";import{D as M}from"./DialogActions-BIKKWG6G.js";import"./button-4tuNeVEt.js";import"./clsx-B-dksMZM.js";import"./avatar-C0R675rX.js";import"./createLucideIcon-DgwY0jjl.js";import"./index-DTCRGgaa.js";import"./index-CcJgsQK0.js";import"./index-B8d-yE_n.js";import"./settings-BKq3Q8n0.js";import"./app-logo-icon-DEuTQ_vJ.js";import"./createSvgIcon-Dj978G6N.js";import"./DefaultPropsProvider-BGrCaN-D.js";import"./leaflet-ClonQDoy.js";import"./Popup-CSv12W_Q.js";import"./createSimplePaletteValueFilter-B_uRowdh.js";import"./useId-B7U9hsP0.js";import"./ButtonBase-B-imGvVC.js";import"./useTimeout-BGNtU2k-.js";import"./TransitionGroupContext-CcarLSTD.js";import"./CircularProgress--J810a6Y.js";import"./useSlot-Boxv-OTx.js";import"./Fade-Cc8xRgYc.js";import"./Modal-BnknUOuC.js";import"./ownerDocument-DW-IO8s5.js";import"./Portal-C5lvZrRH.js";const N=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],E=()=>{const a=new Date,r=new Date(a),n=a.getDay(),m=n===0?-6:1-n;r.setDate(a.getDate()+m);const i=[];for(let t=0;t<6;t++){const c=new Date(r);c.setDate(r.getDate()+t),i.push(c.toISOString().split("T")[0])}return i},ie=({tareas:a})=>{const r=E(),[n,m]=d.useState(!1),[i,t]=d.useState(null),c=s=>{s&&s.direccion&&(t(s),m(!0))},p=()=>{m(!1),t(null)};return e.jsxs(f,{children:[e.jsx(j,{title:"Tareas de la Semana"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Tareas Pendientes Esta Semanaa "}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map((s,x)=>{const u=N[x],h=a[s]??[];return e.jsxs("div",{className:"rounded bg-white p-4 shadow",children:[e.jsxs("h2",{className:"mb-2 text-lg font-semibold",children:[u," (",s,")"]}),h.map(o=>e.jsxs("li",{className:"rounded border p-2",children:[e.jsx("strong",{children:o.titulo}),e.jsx("br",{}),"Empresa: ",o.empresa.name,e.jsx("br",{}),e.jsx(l,{variant:"outlined",size:"small",startIcon:e.jsx(D,{}),sx:{my:1,fontSize:"0.75rem",textTransform:"none"},onClick:()=>c(o.empresa),children:"Ver ubicación"}),e.jsx("br",{}),"Estado:"," ",e.jsx("span",{className:o.estado_produccion==="completado"?"text-green-600":"text-yellow-700",children:o.estado_produccion}),e.jsx("br",{}),"Estrategia: ",o.estrategia,e.jsx("br",{}),"Guion: ",o.guion,e.jsx("br",{}),"Comentario: ",o.comentario,o.estado_produccion!=="completado"&&e.jsx(l,{variant:"contained",color:"success",size:"small",sx:{mt:2,fontSize:"0.75rem",textTransform:"none"},onClick:()=>{confirm("¿Estás seguro que quieres marcar esta tarea como completada?")&&g.put(route("tareas.completar",o.id))},children:"Marcar como completada"})]},o.id))]},s)})})]}),e.jsxs(S,{open:n,onClose:p,maxWidth:"md",fullWidth:!0,children:[e.jsx(y,{children:"Ubicación de la empresa"}),e.jsx(C,{children:i?e.jsx(b,{company:i}):e.jsx(T,{children:"No se pudo cargar la empresa."})}),e.jsx(M,{children:e.jsx(l,{onClick:p,children:"Cerrar"})})]})]})};export{ie as default};
