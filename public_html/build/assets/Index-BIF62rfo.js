import{q as W,r as b,m as g,j as e,$ as A}from"./app-hmuC0z_W.js";import{A as F}from"./app-layout-tfxOdOKB.js";import{u as z,P as c,T as o}from"./Typography-D9aOS4L9.js";import{B as i}from"./Box-4C9-OmNb.js";import{F as p}from"./Fade-CwyH9ByJ.js";import{C as f}from"./CardHeader-D410t0hb.js";import{A as j}from"./Avatar-B5gU_Hib.js";import{T as D}from"./TrendingUp-DdCTmQC8.js";import{C as y}from"./CardContent-C53nuT2n.js";import{S as x}from"./Stack-ofWMD4V8.js";import{T as B}from"./TextField-C5FPbCxz.js";import{I as v}from"./InputAdornment-DSMijJF8.js";import{I as R}from"./IconButton-5suIbhPZ.js";import{S as _}from"./Search-BGzkUUj0.js";import{G as P}from"./Grow-CwDNX7JD.js";import{C as G}from"./Card-DF9nCZsV.js";import{C as E}from"./Chip-Dcvl53u6.js";import{C as H}from"./CalendarToday-BQPCHoPf.js";import{S as w}from"./Schedule-t62lRHkh.js";import{C as L}from"./CardActions-DOa_PgjA.js";import{B as S}from"./Button-CI4PvYH9.js";import{A as M}from"./ArrowForwardIos-CNlryVyY.js";import{a}from"./DefaultPropsProvider-B9G9mrQg.js";import"./button-BdWLbofJ.js";import"./clsx-B-dksMZM.js";import"./avatar-SH5xSAMo.js";import"./createLucideIcon-B2A0n4jm.js";import"./index-BeDZ4tg0.js";import"./index-B2CGEqEW.js";import"./index-CDmN9uZR.js";import"./settings-B81NYrWU.js";import"./app-logo-icon-DF-2vurZ.js";import"./createSvgIcon-DmtCSiy2.js";import"./createSimplePaletteValueFilter-BLiQVDB3.js";import"./TransitionGroupContext-zx_Mae6Z.js";import"./useSlot-b8oj5fjv.js";import"./useThemeProps-D5Z9mzbb.js";import"./getThemeProps-Ci1Myslq.js";import"./useId-CIKGyZXY.js";import"./Select-BXe5PBU8.js";import"./isMuiElement-DUef8CkO.js";import"./index-CPN-dXc6.js";import"./useSlotProps-B7GeVvJr.js";import"./List-e32Tbcmu.js";import"./ownerDocument-DW-IO8s5.js";import"./Modal-B3L5jhwL.js";import"./useTimeout-CyHmLoFO.js";import"./Portal-3qAPjvvz.js";import"./debounce-Be36O1Ab.js";import"./useControlled-D8uUDMf0.js";import"./ButtonBase-CKxFeLN_.js";import"./CircularProgress-DbGwbuXF.js";const O=[{title:"weeks",href:"/weeks"}];function Me(){var u;const r=z(),{weeks:l,search:$}=W().props,[d,h]=b.useState($||"");b.useEffect(()=>{const t=setTimeout(()=>{g.get("/weeks",{search:d},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(t)},[d]);const k=t=>{t&&g.visit(t,{preserveState:!0})},m=t=>new Date(t).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),C=(t,n)=>{const s=new Date,I=new Date(t),T=new Date(n);return s<I?{label:"Próxima",color:"info"}:s>T?{label:"Finalizada",color:"default"}:{label:"Activa",color:"success"}};return e.jsxs(F,{breadcrumbs:O,children:[e.jsx(A,{title:"Weeks"}),e.jsxs(i,{display:"flex",flexDirection:"column",minHeight:"100vh",px:{xs:2,sm:3,md:4},py:4,sx:{background:`linear-gradient(135deg, ${a(r.palette.primary.light,.05)} 0%, ${a(r.palette.secondary.light,.05)} 100%)`},children:[e.jsx(p,{in:!0,timeout:800,children:e.jsxs(c,{elevation:0,sx:{marginBottom:4,background:`linear-gradient(135deg, ${r.palette.primary.main} 0%, ${r.palette.secondary.main} 100%)`,borderRadius:3,overflow:"hidden",position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(10px)"}},children:[e.jsx(f,{avatar:e.jsx(j,{sx:{bgcolor:a(r.palette.common.white,.2),backdropFilter:"blur(10px)"},children:e.jsx(D,{sx:{color:"white"}})}),title:e.jsx(o,{variant:"h5",fontWeight:"bold",color:"white",children:"Dashboard de Semanas"}),subheader:e.jsx(o,{variant:"body2",sx:{color:a(r.palette.common.white,.8)},children:"Gestión completa de influencers por semana"}),sx:{position:"relative",zIndex:1}}),e.jsx(y,{sx:{position:"relative",zIndex:1},children:e.jsxs(x,{direction:"row",spacing:3,alignItems:"center",children:[e.jsxs(i,{textAlign:"center",children:[e.jsx(o,{variant:"h3",fontWeight:"bold",color:"white",children:l.data.length}),e.jsx(o,{variant:"body2",sx:{color:a(r.palette.common.white,.8)},children:"Semanas Totales"})]}),e.jsxs(i,{textAlign:"center",children:[e.jsx(o,{variant:"h6",fontWeight:"bold",color:"white",children:m(((u=l.data[0])==null?void 0:u.start_date)||"")}),e.jsx(o,{variant:"body2",sx:{color:a(r.palette.common.white,.8)},children:"Primera Semana"})]})]})})]})}),e.jsx(p,{in:!0,timeout:1e3,children:e.jsx(o,{variant:"h4",fontWeight:"bold",gutterBottom:!0,sx:{background:`linear-gradient(45deg, ${r.palette.primary.main}, ${r.palette.secondary.main})`,backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center",mb:4},children:"Semanas de Influencers"})}),e.jsx(p,{in:!0,timeout:1200,children:e.jsx(c,{elevation:0,sx:{p:2,mb:4,maxWidth:500,mx:"auto",background:a(r.palette.common.white,.8),backdropFilter:"blur(10px)",borderRadius:2,border:`1px solid ${a(r.palette.primary.main,.1)}`},children:e.jsx(B,{fullWidth:!0,variant:"outlined",placeholder:"Buscar semanas por nombre o fecha...",value:d,onChange:t=>h(t.target.value),InputProps:{startAdornment:e.jsx(v,{position:"start",children:e.jsx(_,{color:"action"})}),endAdornment:d&&e.jsx(v,{position:"end",children:e.jsx(R,{size:"small",onClick:()=>h(""),children:"×"})}),sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{border:"none"}}}})})}),e.jsx(i,{flexGrow:1,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:3,mb:4,children:l.data.map((t,n)=>{const s=C(t.start_date,t.end_date);return e.jsx(P,{in:!0,timeout:800+n*100,children:e.jsxs(G,{variant:"outlined",sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,border:"none",background:`linear-gradient(135deg, ${a(r.palette.background.paper,.9)} 0%, ${a(r.palette.background.paper,.7)} 100%)`,backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-8px)",boxShadow:`0 20px 40px ${a(r.palette.primary.main,.15)}`,"&::before":{opacity:1}},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${r.palette.primary.main}, ${r.palette.secondary.main})`,opacity:.7,transition:"opacity 0.3s ease"}},children:[e.jsx(f,{avatar:e.jsx(j,{sx:{bgcolor:a(r.palette.primary.main,.1),color:r.palette.primary.main},children:e.jsx(H,{})}),title:e.jsx(o,{variant:"h6",fontWeight:"bold",children:t.name}),action:e.jsx(E,{label:s.label,color:s.color,size:"small",variant:"outlined"}),sx:{pb:1}}),e.jsx(y,{sx:{flexGrow:1,pt:0},children:e.jsxs(x,{spacing:2,children:[e.jsxs(i,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(w,{fontSize:"small",color:"action"}),e.jsxs(o,{variant:"body2",color:"text.secondary",children:["Inicio: ",e.jsx("strong",{children:m(t.start_date)})]})]}),e.jsxs(i,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(w,{fontSize:"small",color:"action"}),e.jsxs(o,{variant:"body2",color:"text.secondary",children:["Fin: ",e.jsx("strong",{children:m(t.end_date)})]})]})]})}),e.jsx(L,{sx:{justifyContent:"flex-end",pt:0,pb:2,px:2},children:e.jsx(S,{size:"small",href:`/semanainfluencer?week_id=${t.id}`,endIcon:e.jsx(M,{fontSize:"small"}),variant:"contained",sx:{background:`linear-gradient(45deg, ${r.palette.primary.main}, ${r.palette.secondary.main})`,borderRadius:2,textTransform:"none",fontWeight:600,boxShadow:`0 4px 12px ${a(r.palette.primary.main,.3)}`,"&:hover":{boxShadow:`0 6px 16px ${a(r.palette.primary.main,.4)}`,transform:"scale(1.02)"}},children:"Ver Influencers"})})]})},t.id)})}),e.jsx(p,{in:!0,timeout:1400,children:e.jsx(c,{elevation:0,sx:{p:2,borderRadius:2,background:a(r.palette.background.paper,.8),backdropFilter:"blur(10px)",border:`1px solid ${a(r.palette.divider,.1)}`},children:e.jsx(x,{direction:"row",spacing:1,justifyContent:"center",flexWrap:"wrap",children:l.links.map((t,n)=>e.jsx(S,{onClick:()=>k(t.url),disabled:!t.url,variant:t.active?"contained":"outlined",size:"small",sx:{minWidth:40,borderRadius:2,...t.active&&{background:`linear-gradient(45deg, ${r.palette.primary.main}, ${r.palette.secondary.main})`,boxShadow:`0 4px 12px ${a(r.palette.primary.main,.3)}`},"&:hover":{transform:"scale(1.05)"}},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:t.label}})},`${n}-${t.label}`))})})})]})]})}export{Me as default};
