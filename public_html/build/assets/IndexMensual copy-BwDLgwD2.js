import{q as h,r as f,j as r}from"./app-CUaISujP.js";import{A as x}from"./app-layout-CWuB6NnO.js";import{F as u,l as j,i as g,a as C}from"./index-D0xhZEoA.js";import{T as e}from"./Typography-BXYVZiZC.js";import{D as y,a as v,b}from"./DialogTitle-BDIXDovD.js";import{C as E}from"./Chip-3MHDmL7Q.js";import{D}from"./DialogActions-V7uP84uM.js";import{B as T}from"./Button-BnJ1HrMo.js";import"./button-0Hij8kFa.js";import"./clsx-B-dksMZM.js";import"./avatar-vMY4vQMB.js";import"./createLucideIcon-XVNSMSUw.js";import"./index-DZ5Pi2z6.js";import"./index-b-iRS2c_.js";import"./index-JQPl0ewz.js";import"./settings-CLpIyV6T.js";import"./app-logo-icon-DxXq1G7b.js";import"./createSvgIcon-CsdeE9h-.js";import"./DefaultPropsProvider-DnyQ5W7l.js";import"./useSlot-CYEIGEy5.js";import"./TransitionGroupContext-Ci2WFGYL.js";import"./Fade-ChnIJY1B.js";import"./useId-B2OWouFT.js";import"./Modal-ZVwyIF_S.js";import"./ownerDocument-DW-IO8s5.js";import"./useTimeout-BTm0asfU.js";import"./Portal-8nlpaEwd.js";import"./ButtonBase-DE1CgUJq.js";import"./CircularProgress-nCrY-oKD.js";const ir=()=>{var l;const{semanas:c}=h().props,[i,s]=f.useState(null),n=[];c.forEach(o=>o.forEach(t=>{Object.values(t.empresas).forEach(d=>{d.tareas.forEach(a=>{n.push({id:a.id.toString(),title:`${d.empresa.name??"Empresa"}: ${a.titulo}`,date:t.fecha,extendedProps:a,backgroundColor:a.prioridad==="alta"?"#f44336":a.prioridad==="media"?"#ff9800":"#4caf50",textColor:"#fff",borderColor:"#fff"})})})}));const p=o=>{s(o.event.extendedProps)},m=o=>{switch(o){case"alta":return"#f44336";case"media":return"#ff9800";case"baja":return"#4caf50";default:return"#9e9e9e"}};return r.jsxs(x,{children:[r.jsx(e,{variant:"h4",align:"center",gutterBottom:!0,children:"ðŸ“… Calendario Mensual"}),r.jsx(u,{plugins:[g,C],initialView:"dayGridMonth",locale:j,events:n,eventClick:p,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay"},height:"auto"}),r.jsxs(y,{open:!!i,onClose:()=>s(null),maxWidth:"sm",fullWidth:!0,children:[r.jsx(v,{children:"ðŸ“ Detalle de la Tarea"}),r.jsx(b,{dividers:!0,children:i&&r.jsxs(r.Fragment,{children:[r.jsxs(e,{children:[r.jsx("strong",{children:"TÃ­tulo:"})," ",i.titulo]}),r.jsxs(e,{children:[r.jsx("strong",{children:"Prioridad:"})," ",r.jsx(E,{label:i.prioridad.toUpperCase(),size:"small",sx:{fontWeight:"bold",color:"#fff",backgroundColor:m(i.prioridad)}})]}),r.jsxs(e,{children:[r.jsx("strong",{children:"Tipo:"})," ",((l=i.tipo)==null?void 0:l.nombre_tipo)??"No especificado"]}),r.jsxs(e,{children:[r.jsx("strong",{children:"DescripciÃ³n:"})," ",i.descripcion||"Sin descripciÃ³n"]}),r.jsx(e,{mt:2,variant:"subtitle1",children:"ðŸ‘¤ Asignado a:"}),i.asignaciones&&i.asignaciones.length>0?i.asignaciones.map(o=>{var t;return r.jsxs("div",{style:{marginBottom:"1rem"},children:[r.jsxs(e,{variant:"body1",children:["Usuario: ",((t=o.user)==null?void 0:t.name)??"Sin asignar"]}),r.jsxs(e,{variant:"body2",color:"textSecondary",children:["Estado: ",o.estado]})]},o.id)}):r.jsx(e,{children:"No hay asignaciones para esta tarea."})]})}),r.jsx(D,{children:r.jsx(T,{onClick:()=>s(null),variant:"contained",color:"primary",children:"Cerrar"})})]})]})};export{ir as default};
