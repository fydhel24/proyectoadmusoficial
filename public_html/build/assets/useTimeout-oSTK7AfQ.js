var d=Object.defineProperty;var y=(t,e,n)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var o=(t,e,n)=>y(t,typeof e!="symbol"?e+"":e,n);import{r as c,U as E}from"./app-BS78KgI9.js";const h=typeof window<"u"?c.useLayoutEffect:c.useEffect;function T(t){const e=c.useRef(t);return h(()=>{e.current=t}),c.useRef((...n)=>(0,e.current)(...n)).current}function _(...t){const e=c.useRef(void 0),n=c.useCallback(r=>{const p=t.map(u=>{if(u==null)return null;if(typeof u=="function"){const i=u,a=i(r);return typeof a=="function"?a:()=>{i(null)}}return u.current=r,()=>{u.current=null}});return()=>{p.forEach(u=>u==null?void 0:u())}},t);return c.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function P(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},s(t,e)}function x(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}const L=E.createContext(null),l={};function I(t,e){const n=c.useRef(l);return n.current===l&&(n.current=t(e)),n}const b=[];function O(t){c.useEffect(t,b)}class f{constructor(){o(this,"currentId",null);o(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});o(this,"disposeEffect",()=>this.clear)}static create(){return new f}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function j(){const t=I(f.create).current;return O(t.disposeEffect),t}export{f as T,x as _,_ as a,T as b,h as c,P as d,L as e,I as f,O as g,j as u};
