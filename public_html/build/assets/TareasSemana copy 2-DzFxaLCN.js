import{r as d,j as e,$ as j,m as g}from"./app-hmuC0z_W.js";import{A as f}from"./app-layout-tfxOdOKB.js";import{L as D}from"./LocationOn-Dzn4jYZN.js";import b from"./MapComponent-CEIgkPhu.js";import{B as l}from"./Button-CI4PvYH9.js";import{D as S,a as y,b as C}from"./DialogTitle-qfXQee4s.js";import{T}from"./Typography-D9aOS4L9.js";import{D as M}from"./DialogActions-By6P71zP.js";import"./button-BdWLbofJ.js";import"./clsx-B-dksMZM.js";import"./avatar-SH5xSAMo.js";import"./createLucideIcon-B2A0n4jm.js";import"./index-BeDZ4tg0.js";import"./index-B2CGEqEW.js";import"./index-CDmN9uZR.js";import"./settings-B81NYrWU.js";import"./app-logo-icon-DF-2vurZ.js";import"./createSvgIcon-DmtCSiy2.js";import"./DefaultPropsProvider-B9G9mrQg.js";import"./leaflet-BcA5eqNj.js";import"./Popup-DgSynb2B.js";import"./createSimplePaletteValueFilter-BLiQVDB3.js";import"./useId-CIKGyZXY.js";import"./ButtonBase-CKxFeLN_.js";import"./useTimeout-CyHmLoFO.js";import"./TransitionGroupContext-zx_Mae6Z.js";import"./CircularProgress-DbGwbuXF.js";import"./useSlot-b8oj5fjv.js";import"./Fade-CwyH9ByJ.js";import"./Modal-B3L5jhwL.js";import"./ownerDocument-DW-IO8s5.js";import"./Portal-3qAPjvvz.js";const N=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],E=()=>{const a=new Date,r=new Date(a),n=a.getDay(),m=n===0?-6:1-n;r.setDate(a.getDate()+m);const i=[];for(let t=0;t<6;t++){const c=new Date(r);c.setDate(r.getDate()+t),i.push(c.toISOString().split("T")[0])}return i},ie=({tareas:a})=>{const r=E(),[n,m]=d.useState(!1),[i,t]=d.useState(null),c=s=>{s&&s.direccion&&(t(s),m(!0))},p=()=>{m(!1),t(null)};return e.jsxs(f,{children:[e.jsx(j,{title:"Tareas de la Semana"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Tareas Pendientes Esta Semanaa "}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map((s,x)=>{const u=N[x],h=a[s]??[];return e.jsxs("div",{className:"rounded bg-white p-4 shadow",children:[e.jsxs("h2",{className:"mb-2 text-lg font-semibold",children:[u," (",s,")"]}),h.map(o=>e.jsxs("li",{className:"rounded border p-2",children:[e.jsx("strong",{children:o.titulo}),e.jsx("br",{}),"Empresa: ",o.empresa.name,e.jsx("br",{}),e.jsx(l,{variant:"outlined",size:"small",startIcon:e.jsx(D,{}),sx:{my:1,fontSize:"0.75rem",textTransform:"none"},onClick:()=>c(o.empresa),children:"Ver ubicación"}),e.jsx("br",{}),"Estado:"," ",e.jsx("span",{className:o.estado_produccion==="completado"?"text-green-600":"text-yellow-700",children:o.estado_produccion}),e.jsx("br",{}),"Estrategia: ",o.estrategia,e.jsx("br",{}),"Guion: ",o.guion,e.jsx("br",{}),"Comentario: ",o.comentario,o.estado_produccion!=="completado"&&e.jsx(l,{variant:"contained",color:"success",size:"small",sx:{mt:2,fontSize:"0.75rem",textTransform:"none"},onClick:()=>{confirm("¿Estás seguro que quieres marcar esta tarea como completada?")&&g.put(route("tareas.completar",o.id))},children:"Marcar como completada"})]},o.id))]},s)})})]}),e.jsxs(S,{open:n,onClose:p,maxWidth:"md",fullWidth:!0,children:[e.jsx(y,{children:"Ubicación de la empresa"}),e.jsx(C,{children:i?e.jsx(b,{company:i}):e.jsx(T,{children:"No se pudo cargar la empresa."})}),e.jsx(M,{children:e.jsx(l,{onClick:p,children:"Cerrar"})})]})]})};export{ie as default};
